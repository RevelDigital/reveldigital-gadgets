{"version":3,"file":"main.js","mappings":"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","sources":["./projects/test-app/src/app/app.component.ts","./projects/test-app/src/app/app.component.html","./projects/test-app/src/app/app.module.ts","./projects/test-app/src/environments/environment.ts","./projects/test-app/src/main.ts","./projects/reveldigital/player-client/src/lib/version.ts","./projects/reveldigital/player-client/src/lib/player-client.service.ts","./projects/reveldigital/player-client/src/lib/app-init.service.ts","./projects/reveldigital/player-client/src/lib/safe-style.pipe.ts","./projects/reveldigital/player-client/src/lib/player-client.module.ts","./projects/reveldigital/player-client/src/public-api.ts","./projects/reveldigital/player-client/src/reveldigital-player-client.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PlayerClientService } from '@reveldigital/player-client';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  title = 'test-app';\n  state = 'Not ready';\n  localTime: any;\n  deviceTime: any;\n  TZName: any;\n  TZId: any;\n  TZOffset: any;\n  langCode: any;\n  deviceKey: any;\n  revelRoot: any;\n  remoteDeviceKey: any;\n  commandMap: any;\n  prefs: any;\n  style: any;\n  width: any;\n  height: any;\n  duration: any;\n  version: any;\n\n  //prefs = new gadgets.Prefs();\n\n\n  constructor(public client: PlayerClientService) {\n\n    this.prefs = client.getPrefs();\n\n    this.style = this.prefs.getString('myStylePref');\n\n    this.client.onReady$.subscribe((val) => {\n      console.log(val ? 'Ready' : 'Not ready');\n      this.state = val ? 'Ready' : 'Not ready';\n    });\n\n    this.client.onCommand$.subscribe((cmd) => {\n      console.log(`onCommand: ${cmd.name}, ${cmd.arg}`);\n    });\n\n    this.client.onStart$.subscribe(() => {\n      console.log(\"onStart\");\n      this.state = 'Started';\n    });\n\n    this.client.onStop$.subscribe(() => {\n      console.log(\"onStop\");\n      this.state = 'Stopped';\n    });\n  }\n\n  ngOnInit(): void {\n\n    setInterval(() => {\n      this.update();\n    }, 1000);\n  }\n\n  update() {\n\n    this.client.getDeviceTime().then((res) => {\n      this.localTime = new Date();\n      this.deviceTime = new Date(res);\n    });\n\n    this.client.getDeviceTimeZoneName().then((res) => {\n      this.TZName = res;\n    });\n\n    this.client.getDeviceTimeZoneID().then((res) => {\n      this.TZId = res;\n    })\n\n    this.client.getDeviceTimeZoneOffset().then((res) => {\n      this.TZOffset = res;\n    });\n\n    this.client.getLanguageCode().then((res) => {\n      this.langCode = res;\n    });\n\n    this.client.getDeviceKey().then((res) => {\n      this.deviceKey = res;\n    });\n\n    this.client.getRevelRoot().then((res) => {\n      this.revelRoot = res;\n    });\n\n    this.client.getCommandMap().then((res) => {\n      this.commandMap = res;\n    });\n\n    this.client.getWidth().then((res) => {\n      this.width = res;\n    });\n\n    this.client.getHeight().then((res) => {\n      this.height = res;\n    });\n\n    this.client.getDuration().then((res) => {\n      this.duration = res;\n    });\n\n    this.client.getSdkVersion().then((res) => {\n      this.version = res;\n    });\n  }\n\n  sendCommand() {\n\n    this.client.sendCommand(\"test\", \"it\");\n  }\n\n  sendRemoteCommand() {\n\n    this.client.sendRemoteCommand([this.remoteDeviceKey], \"test\", \"it\");\n  }\n\n  trackEvent() {\n\n    this.client.track(\"test\", { \"a\": \"b\" });\n  }\n\n  callback() {\n\n    this.client.callback('test');\n  }\n\n  finish() {\n\n    this.client.finish();\n  }\n}\n","<h2>State: {{ state }}</h2>\n<h2>Local Time: {{ localTime | date:'medium' }}</h2>\n<h2>Device Time: {{ deviceTime | date:'medium' }}</h2>\n<h2>Device TZ Name: {{ TZName }}</h2>\n<h2>Device TZ ID: {{ TZId }}</h2>\n<h2>Device TZ Offset: {{ TZOffset }}</h2>\n<h2>Device Language Code: {{ langCode }}</h2>\n<h2>Device Key: {{ deviceKey }}</h2>\n<h2>Revel Root: {{ revelRoot }}</h2>\n<h2>Command Map: {{ commandMap | json }}</h2>\n<h2 [style]=\"style | safeStyle\">Sample Pref: {{ prefs.getString('myStringPref') }}</h2>\n<button (click)=\"sendCommand()\">Send Command</button>\n<button (click)=\"trackEvent()\">Track Event</button>\n<button (click)=\"callback()\">Callback</button>\n<button (click)=\"finish()\">Finish</button>\n<button (click)=\"sendRemoteCommand()\">Send Remote Command</button><input type=\"text\" [(ngModel)]=\"remoteDeviceKey\">","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { LOCALE_ID } from '@angular/core';\nimport { APP_BASE_HREF, registerLocaleData } from '@angular/common';\n\nimport { AppComponent } from './app.component';\n\nimport { PlayerClientModule } from '@reveldigital/player-client';\n\nimport localeFr from '@angular/common/locales/fr';\nimport localeRu from '@angular/common/locales/ru';\nimport { FormsModule } from '@angular/forms';\nregisterLocaleData(localeFr);\nregisterLocaleData(localeRu);\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    PlayerClientModule\n  ],\n  providers: [\n\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","// Generated by genversion.\nexport const version = '1.0.10'\n","import { Injectable, NgZone, OnDestroy } from '@angular/core';\r\nimport { gadgets } from '@reveldigital/gadget-types';\r\nimport { BehaviorSubject, fromEvent, Subject, Subscription } from 'rxjs';\r\nimport { map, share, tap } from 'rxjs/operators';\r\nimport { ICommand } from './interfaces/command.interface';\r\nimport { IDevice } from './interfaces/device.interface';\r\nimport { IEventProperties } from './interfaces/event-properties.interface';\r\nimport { IClient } from './interfaces/client.interface';\r\nimport { version } from './version';\r\n\r\n//import { version } from './version.js';\r\n\r\n// So that TypeScript doesn't complain, we're going to augment the GLOBAL / WINDOW \r\n// name-space definition to include the Tracker API. This also provides us with a place\r\n// to actually DOCUMENT the API so that our developers aren't guessing about what's\r\n// available on the library.\r\n\r\n/** @ignore */\r\ndeclare global {\r\n  var Client: IClient;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PlayerClientService implements OnDestroy {\r\n\r\n  /** @ignore */\r\n  private clientPromise: Promise<IClient> | null;\r\n\r\n  /**\r\n   * Commands sent to this player.\r\n   */\r\n  public onCommand$ = new Subject<ICommand>();\r\n  /**\r\n   * Signals the gadget has been loaded and is ready to start.\r\n   */\r\n  public onReady$ = new BehaviorSubject(false);\r\n  /**\r\n   * Signals the gadget has been started by the player.\r\n   */\r\n  public onStart$ = new Subject();\r\n  /**\r\n   * Signals the gadgets has been stopped by the player.\r\n   */\r\n  public onStop$ = new Subject();\r\n\r\n  //\r\n  // Two methods available for calling into the library:\r\n  //\r\n  // 1) Using dispatchEvent() with the following custom events\r\n  // 2) Using the window scoped RevelDigital object as defined in the constructor\r\n  //\r\n  /** @ignore */\r\n  private onStartSub: Subscription;\r\n  /** @ignore */\r\n  private onStartEvt$ = fromEvent(document, 'RevelDigital.Start').pipe(\r\n    share(),\r\n    tap(this.onStart$)\r\n  );\r\n  /** @ignore */\r\n  private onStopSub: Subscription;\r\n  /** @ignore */\r\n  private onStopEvt$ = fromEvent(document, 'RevelDigital.Stop').pipe(\r\n    share(),\r\n    tap(this.onStop$)\r\n  );\r\n  /** @ignore */\r\n  private onCommandSub: Subscription;\r\n  /** @ignore */\r\n  private onCommandEvt$ = fromEvent<ICommand>(document, 'RevelDigital.Command').pipe(\r\n    map((e: any) => { return { name: e.detail.name, arg: e.detail.arg } as ICommand }),\r\n    share(),\r\n    tap(this.onCommand$)\r\n  );\r\n\r\n  // private onPostMessageSub: Subscription;\r\n  // private onPostMessageEvt$ = fromEvent(window, 'message').pipe(\r\n  //   filter((messageEvent: MessageEvent) =>\r\n  //     messageEvent.source !== window.parent &&\r\n  //     typeof messageEvent.data === 'string' &&\r\n  //     messageEvent.data.startsWith('reveldigital:')),\r\n  //   map((e: any) => { return JSON.parse(e.substring(13)) as Command }),\r\n  //   share(),\r\n  //   tap(this.onCommand$)\r\n  // );\r\n\r\n  /** @ignore */\r\n  constructor(zone: NgZone) {\r\n\r\n    let self = this;\r\n    (window as any).RevelDigital = {\r\n      Controller: {\r\n        onCommand: function (name: string, arg: string) {\r\n          zone.run(() => {\r\n            self.onCommand$.next({ name: name, arg: arg });\r\n          });\r\n        },\r\n        onStart: function () {\r\n          zone.run(() => {\r\n            self.onStart$.next(null);\r\n          });\r\n        },\r\n        onStop: function () {\r\n          zone.run(() => {\r\n            self.onStop$.next(null);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    this.onStartSub = this.onStartEvt$.subscribe(() => { });\r\n    this.onStopSub = this.onStopEvt$.subscribe(() => { });\r\n    this.onCommandSub = this.onCommandEvt$.subscribe(() => { });\r\n\r\n    this.clientPromise = null;\r\n\r\n    this.onReady$.next(true);\r\n  }\r\n\r\n  /** @ignore */\r\n  ngOnDestroy(): void {\r\n\r\n    this.onStartSub?.unsubscribe();\r\n    this.onStopSub?.unsubscribe();\r\n    this.onCommandSub?.unsubscribe();\r\n\r\n    this.onReady$.next(false);\r\n  }\r\n\r\n  /** @ignore */\r\n  public static init(data: any) {\r\n\r\n    console.log(\r\n      '%c⚙️ Initializing Revel Digital client library',\r\n      'background-color:blue; color:yellow;'\r\n    );\r\n  }\r\n\r\n  /**\r\n   * This method allows the gadget to communicate with player scripting.\r\n   * If the appropriate scripting is in place in the currently running template, calling this method\r\n   * will initiate a callback which can be acted upon in player script.\r\n   * \r\n   * @example\r\n   * client.callback('test', 'this');\r\n   * \r\n   * @param args variable number of arguments\r\n   */\r\n  public callback(...args: any[]): void {\r\n\r\n    this.getClient().then((client) => {\r\n\r\n      switch (args.length) {\r\n        case 0:\r\n          client.callback();\r\n          break;\r\n        case 1:\r\n          client.callback(args[0]);\r\n          break;\r\n        case 2:\r\n          client.callback(args[1]);\r\n          break;\r\n        case 3:\r\n          client.callback(args[2]);\r\n          break;\r\n        case 4:\r\n          client.callback(args[3]);\r\n          break;\r\n        case 5:\r\n          client.callback(args[4]);\r\n          break;\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Accessor method for the user preferences interface exposed by the Gadgets API.\r\n   * \r\n   * See {@link https://developers.google.com/gadgets/docs/basic} for more details on the Gadgets API.\r\n   * \r\n   * @example\r\n   * constructor(public client: PlayerClientService) {\r\n   *            let prefs = client.getPrefs();\r\n   *            let myString = prefs.getString('myStringPref');\r\n   * }\r\n   * @returns {gadgets.Prefs} Gadget API Prefs object\r\n   */\r\n  public getPrefs(): gadgets.Prefs {\r\n\r\n    return new window['gadgets']['Prefs']();\r\n  }\r\n\r\n  /**\r\n   * Returns the current device time in ISO8601 format.\r\n   * Current device time is determined by the device timezone assigned to the device in the CMS.\r\n   * \r\n   * @param date Optional. If supplied will translate the supplied date/time to device time based on respective timezones.\r\n   * @returns Date/time in ISO8601 format\r\n   */\r\n  public async getDeviceTime(date?: Date): Promise<string> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    if (date !== undefined) {\r\n      return client.getDeviceTime(date);\r\n    }\r\n    return client.getDeviceTime();\r\n  }\r\n\r\n  /**\r\n   * Returns the timezone name currently assigned to the device.\r\n   * \r\n   * @returns Timezone Name\r\n   */\r\n  public async getDeviceTimeZoneName(): Promise<string> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getDeviceTimeZoneName();\r\n  }\r\n\r\n  /**\r\n   * Returns the timezone ID currently assigned to the device.\r\n   * \r\n   * @returns Timezone ID\r\n   */\r\n  public async getDeviceTimeZoneID(): Promise<string> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getDeviceTimeZoneID();\r\n  }\r\n\r\n  /**\r\n   * Returns the numerical offset from GMT of the timezone currently assigned to the device.\r\n   * \r\n   * @returns Timezone offset\r\n   */\r\n  public async getDeviceTimeZoneOffset(): Promise<number> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getDeviceTimeZoneOffset();\r\n  }\r\n\r\n  /**\r\n   * Returns the language code of the language currently assigned to the device.\r\n   * \r\n   * @returns Language code\r\n   */\r\n  public async getLanguageCode(): Promise<string> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getLanguageCode();\r\n  }\r\n\r\n  /**\r\n   * Returns the unique Revel Digital device key associated with the device.\r\n   * \r\n   * @returns Device key\r\n   */\r\n  public async getDeviceKey(): Promise<string> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getDeviceKey();\r\n  }\r\n\r\n  /**\r\n   * Send a command to the player device.\r\n   * \r\n   * @param name Command name\r\n   * @param arg Command argument\r\n   */\r\n  public sendCommand(name: string, arg: string): void {\r\n\r\n    this.getClient().then((client) => {\r\n      client.sendCommand(name, arg);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Send a command to any remote player with the supplied device key(s).\r\n   * Note: Remote commands can only be delivered to devices within the same account as the sender device.\r\n   * \r\n   * @param deviceKeys Array of remote device keys\r\n   * @param name Command name\r\n   * @param arg Command arg\r\n   */\r\n  public sendRemoteCommand(deviceKeys: string[], name: string, arg: string): void {\r\n\r\n    this.getClient().then((client) => {\r\n      client.sendRemoteCommand(deviceKeys, name, arg);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Log an event for use with AdHawk analytics.\r\n   * Events are used for tracking various metrics including usage statistics, player condition, state changes, etc.\r\n   * \r\n   * @param eventName Unique name for this event\r\n   * @param properties A map of user defined properties to associate with this event\r\n   */\r\n  public track(eventName: string, properties?: IEventProperties): void {\r\n\r\n    this.getClient().then((client) => {\r\n      client.track(eventName, JSON.stringify(properties));\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Method for initiating a timed event.\r\n   * Timed events are useful for tracking the duration of an event and must be proceeded with a call to track().\r\n   * \r\n   * @example\r\n   * client.timeEvent('testEvent');\r\n   * client.track(\"test\", { \"a\": \"b\" });\r\n   * @param eventName Unique name for this event\r\n   */\r\n  public timeEvent(eventName: string): void {\r\n\r\n    this.getClient().then((client) => {\r\n      client.timeEvent(eventName);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * A session is a way of grouping events together. Each event has an associated session ID.\r\n   * Session ID's are randomly generated and reset by subsequent calls to newEventSession().\r\n   * \r\n   * Each call to track() will utilize the same session ID, until another call to newEventSession().\r\n   * @param id Optional. User supplied session ID. If not supplied a random session ID will be generated.\r\n   */\r\n  public newEventSession(id?: string): void {\r\n\r\n    this.getClient().then((client) => {\r\n      if (id !== undefined) {\r\n        client.newEventSession();\r\n      } else {\r\n        client.newEventSession(id);\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Returns the root folder utilized by this player device.\r\n   * \r\n   * @returns Path to the root folder\r\n   */\r\n  public async getRevelRoot(): Promise<string> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getRevelRoot();\r\n  }\r\n\r\n  /**\r\n   * Returns a map of commands currently active for this device.\r\n   * \r\n   * @returns Map of commands currently active for this device.\r\n   */\r\n  public async getCommandMap(): Promise<any> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return JSON.parse(await client.getCommandMap());\r\n  }\r\n\r\n  /**\r\n   * Indicate to the player that this gadget has finished it's visualization.\r\n   * This allows the player to proceed with the next item in a playlist if applicable.\r\n   */\r\n  public finish(): void {\r\n\r\n    this.getClient().then((client) => {\r\n\r\n      client.finish();\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Check is the gadget is running in preview mode. Preview mode is enabled when the gadget is\r\n   * being edited in the CMS, or otherwise not running in a normal player environment.\r\n   * \r\n   * @returns True if the gadget is running in preview mode, false otherwise.\r\n   */\r\n  public async isPreviewMode(): Promise<boolean> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client instanceof NoopClient;\r\n  }\r\n\r\n  /**\r\n * Returns the device details associated with the player running the gadget or web app.\r\n * \r\n * @returns Device details.\r\n */\r\n  public async getDevice(): Promise<IDevice | null> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    let obj: any = JSON.parse(<string>await client.getDevice());\r\n\r\n    const device: IDevice[] = [obj].map((device: any) => {\r\n\r\n      return {\r\n        name: device.name,\r\n        registrationKey: device.key,\r\n        deviceType: device.devicetype,\r\n        enteredService: new Date(device.enteredservice),\r\n        langCode: device.langcode,\r\n        timeZone: device.timezone,\r\n        tags: device.description?.split('\\n'),\r\n        location: {\r\n          city: device.location?.city,\r\n          state: device.location?.state,\r\n          country: device.location?.country,\r\n          postalCode: device.location?.postalcode,\r\n          address: device.location?.address,\r\n          latitude: device.location?.latitude,\r\n          longitude: device.location?.longitude\r\n        }\r\n      }\r\n    });\r\n    return device[0];\r\n  }\r\n\r\n  /**\r\n   * Returns the width of the visualization area.\r\n   * \r\n   * @returns Width of the visualization area\r\n   */\r\n  public async getWidth(): Promise<number | null> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getWidth();\r\n  }\r\n\r\n  /**\r\n   * Returns the height of the visualization area.\r\n   * \r\n   * @returns Height of the visualization area\r\n   */\r\n  public async getHeight(): Promise<number | null> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getHeight();\r\n  }\r\n\r\n  /**\r\n   * Returns the duration of the currently playing source.\r\n   * (only applicable when associated with a playlist)\r\n   * \r\n   * @returns Duration of the current item in milliseconds\r\n   */\r\n  public async getDuration(): Promise<number | null> {\r\n\r\n    const client = await this.getClient();\r\n\r\n    return client.getDuration();\r\n  }\r\n\r\n  /**\r\n   * Returns the current SDK version.\r\n   * \r\n   * @returns SDK version\r\n   */\r\n  public async getSdkVersion(): Promise<string> {\r\n\r\n    return Promise.resolve(version);\r\n  }\r\n\r\n\r\n  // ---\r\n  // PRIVATE METHODS.\r\n  // ---\r\n  /** @ignore */\r\n  private getClient(): Promise<IClient> {\r\n\r\n    if (this.clientPromise) {\r\n\r\n      return (this.clientPromise);\r\n    }\r\n\r\n    if (window.Client) {\r\n\r\n      return (this.clientPromise = Promise.resolve(window.Client));\r\n    }\r\n\r\n    // A \"complete\" status indicates that the \"load\" event has been fired on the\r\n    // window; and, that all sub-resources such as Scripts, Images, and Frames have\r\n    // been loaded.\r\n    if (window.document.readyState === \"complete\") {\r\n\r\n      // If this event has fired AND the 3rd-party script isn't available (see IF-\r\n      // condition BEFORE this one), it means that the 3rd-party script either\r\n      // failed on the network or was BLOCKED by an ad-blocker. As such, we have to\r\n      // fall-back to using a mock API.\r\n      return (this.clientPromise = Promise.resolve(new NoopClient()));\r\n    }\r\n\r\n    // ASSERT: If we made it this far, the document has not completed loading (but it\r\n    // may be in an \"interactive\" state which is when I believe that the Angular app\r\n    // gets bootstrapped). As such, we need bind to the LOAD event to wait for our\r\n    // third-party scripts to load (or fail to load, or be blocked).\r\n    this.clientPromise = new Promise<IClient>(\r\n      (resolve) => {\r\n\r\n        window.addEventListener(\r\n          \"load\",\r\n          function handleWindowLoad() {\r\n\r\n            // At this point, the 3rd-party library is either available or\r\n            // it's not - there's no further loading to do. If it's not\r\n            // present on the global scope, we're going to fall-back to using\r\n            // a mock API.\r\n            resolve(window.Client || new NoopClient());\r\n          }\r\n        );\r\n\r\n      }\r\n    );\r\n\r\n    return (this.clientPromise);\r\n  }\r\n}\r\n\r\n\r\n\r\n// ----------------------------------------------------------------------------------- //\r\n// ----------------------------------------------------------------------------------- //\r\n\r\n// I provide a mock API for the 3rd-party script. This just allows the consuming code to\r\n// act as though the library is available even if it failed to load (example, it was\r\n// blocked by an ad-blocker).\r\n\r\n/** @ignore */\r\nclass NoopClient implements IClient {\r\n\r\n  constructor() {\r\n\r\n    console.log(\r\n      '%cClient API not available, falling back to mock API',\r\n      'background-color:blue; color:yellow;'\r\n    );\r\n  }\r\n\r\n  public callback(...args: any[]): void {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public getDeviceTime(date?: Date): Promise<string> {\r\n\r\n    return Promise.resolve(new Date().toISOString());\r\n  }\r\n\r\n  public async getDeviceTimeZoneName(): Promise<string> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getDeviceTimeZoneID(): Promise<string> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getDeviceTimeZoneOffset(): Promise<number> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getLanguageCode(): Promise<string> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getDeviceKey(): Promise<string> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public sendCommand(name: string, arg: string): void {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public sendRemoteCommand(deviceKeys: string[], name: string, arg: string) {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public track(eventName: string, properties?: string): void {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public timeEvent(eventName: string): void {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public newEventSession(id?: string): void {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public async getRevelRoot(): Promise<string> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getCommandMap(): Promise<string> {\r\n\r\n    return Promise.resolve('{}');\r\n  }\r\n\r\n  public finish(): void {\r\n\r\n    // NOOP implement, nothing to do....\r\n  }\r\n\r\n  public async getDevice(): Promise<string | null> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getWidth(): Promise<number | null> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getHeight(): Promise<number | null> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getDuration(): Promise<number | null> {\r\n\r\n    return Promise.resolve(null);\r\n  }\r\n\r\n  public async getSdkVersion(): Promise<string> {\r\n\r\n    return Promise.resolve(version);\r\n  }\r\n}\r\n","import { Injectable, enableProdMode, isDevMode } from '@angular/core';\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport * as yaml from \"js-yaml\";\r\nimport * as WebFont from 'webfontloader';\r\n\r\nconst isLocal: boolean = /localhost/.test(document.location.host);\r\n!isLocal && enableProdMode();\r\n\r\n\r\n/** @ignore */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AppInitService {\r\n\r\n  constructor(\r\n    public http: HttpClient,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router) {\r\n  }\r\n\r\n  init(): Promise<any> {\r\n\r\n    return new Promise<void>(async (resolve) => {\r\n\r\n      this.loadFonts();\r\n\r\n      if (isDevMode()) {\r\n        console.log(\r\n          '%cRunning in development mode',\r\n          'background-color:blue; color:yellow;'\r\n        );\r\n\r\n        /**\r\n         * Shim the shindig prefs functionality for dev mode\r\n         */\r\n        (<any>window).gadgets = {\r\n\r\n          Prefs: class {\r\n            getString(key: string) { return this.getParameterByName(key) }\r\n\r\n            getArray(key: string) { return this.getParameterByName(key).split(',') }\r\n\r\n            getBool(key: string) { return this.getParameterByName(key) === 'true' }\r\n\r\n            getCountry() { }\r\n\r\n            getFloat(key: string) { return parseFloat(this.getParameterByName(key)) }\r\n\r\n            getInt(key: string) { return parseInt(this.getParameterByName(key)) }\r\n\r\n            getLang() { return this.getParameterByName('lang') === '' ? 'en' : this.getParameterByName('lang'); }\r\n\r\n            getParameterByName(name: string, search = window.location.href): string {\r\n\r\n              name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n              let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n                results = regex.exec(search);\r\n              if (!results) return '';\r\n              if (!results[2]) return '';\r\n              return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n            }\r\n          }\r\n        };\r\n\r\n        this.http.get('assets/gadget.yaml', {\r\n          responseType: 'text'\r\n        }).subscribe(data => {\r\n          const doc: any = yaml.load(data);\r\n          let params: any = {}\r\n          for (const val of doc.prefs) {\r\n            params[val.name] = val.default_value\r\n          }\r\n\r\n          this._router.navigate([], {\r\n            relativeTo: this._route,\r\n            queryParams: params,\r\n          });\r\n\r\n          console.log(\r\n            `%cUser prefs loaded successfully`,\r\n            'background-color:blue; color:yellow;'\r\n          );\r\n        }, (err) => {\r\n          console.log(\r\n            `%cUnable to load user preferences YAML definition file: ${err}`,\r\n            'background-color:blue; color:yellow;'\r\n          );\r\n          console.log(\r\n            `%cPlease see our developer documentation for help with your app configuration: https://developer.reveldigital.com`,\r\n            'background-color:red; color:yellow;'\r\n          )\r\n        })\r\n      }\r\n      resolve();\r\n    });\r\n  }\r\n\r\n\r\n  private getFamilyName(css) {\r\n\r\n    let FONT_FAMILY_REGEX = /font-family:\\s*(?:[&#39;&#34;])*['\"]*(.+?)['\"]*(?:[&#39;&#34;])*\\s*;/i;\r\n    if (FONT_FAMILY_REGEX.test(css)) {\r\n      var matches = css.match(FONT_FAMILY_REGEX);\r\n      return matches[1].split(',')[0];\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Loads the given font from Google Web Fonts.\r\n   */\r\n  private loadFonts(): void {\r\n\r\n    const parameters = new URLSearchParams(window.location.search);\r\n    parameters.forEach((val, key) => {\r\n      try {\r\n        let fontFamily = this.getFamilyName(val);\r\n        if (fontFamily !== '') {\r\n          WebFont.load({\r\n            google: {\r\n              families: [fontFamily]\r\n            },\r\n            fontactive: (familyName) => {\r\n              console.log(`%cActivating font: ${familyName}`,\r\n                'background-color:blue; color:yellow;');\r\n            },\r\n            fontinactive: (familyName) => {\r\n              console.log(`%cFont inactive: ${familyName}`,\r\n                'background-color:red; color:yellow;');\r\n            }\r\n          });\r\n        }\r\n      } catch (e) {\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Pipe, PipeTransform, NgModule } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n/**\r\n * The safe style pipe is used when custom styles are defined for a gadget and must be applied to an Angular\r\n * component. This pipe will ensure the style can be appied safely by utilizing the DomSanitizer.\r\n * \r\n * @example\r\n * <h2 [style]=\"style | safeStyle\">Sample Pref: {{ prefs.getString('myStringPref') }}</h2>\r\n */\r\n@Pipe({\r\n    name: 'safeStyle',\r\n})\r\nexport class SafeStylePipe implements PipeTransform {\r\n    constructor(private sanitized: DomSanitizer) { }\r\n\r\n    transform(value: any): unknown {\r\n        return this.sanitized.bypassSecurityTrustStyle(value);\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    declarations: [SafeStylePipe],\r\n    exports: [SafeStylePipe],\r\n})\r\nexport class NgSafeStylePipeModule { }\r\n","import { APP_INITIALIZER, LOCALE_ID, NgModule } from '@angular/core';\nimport { PlayerClientService } from './player-client.service';\nimport { AppInitService } from './app-init.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\nimport { APP_BASE_HREF } from '@angular/common';\nimport { NgSafeStylePipeModule } from './safe-style.pipe';\n\ndeclare var gadgets: any;\n\n\n@NgModule({\n  imports: [\n    HttpClientModule,\n    RouterModule.forRoot([]),\n    NgSafeStylePipeModule\n  ],\n  exports: [\n    NgSafeStylePipeModule\n  ],\n  providers: [{\n    provide: APP_INITIALIZER,\n    useFactory: initializeApp,\n    deps: [AppInitService, PlayerClientService],\n    multi: true\n  },\n  {\n    provide: LOCALE_ID,\n    useFactory: () => {\n      try {\n        return new gadgets.Prefs().getLang();\n      } catch {\n        return 'en';\n      }\n    }\n  },\n  { provide: APP_BASE_HREF, useValue: '/gadgets/ifr' }]\n})\nexport class PlayerClientModule { }\n\nfunction initializeApp(appInitService: AppInitService) {\n  return async () => {\n    PlayerClientService.init({});\n    await appInitService.init();\n  }\n}\n","/*\n * Public API Surface of player-client\n */\n\nexport * from './lib/player-client.service';\nexport * from './lib/player-client.module';\nexport * from './lib/safe-style.pipe';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["version","PlayerClientService","constructor","zone","Subject","BehaviorSubject","fromEvent","document","pipe","share","tap","onStart$","onStop$","map","e","name","detail","arg","onCommand$","self","window","RevelDigital","Controller","onCommand","run","next","onStart","onStop","onStartSub","onStartEvt$","subscribe","onStopSub","onStopEvt$","onCommandSub","onCommandEvt$","clientPromise","onReady$","ngOnDestroy","unsubscribe","init","data","console","log","callback","args","getClient","then","client","length","getPrefs","getDeviceTime","date","undefined","getDeviceTimeZoneName","getDeviceTimeZoneID","getDeviceTimeZoneOffset","getLanguageCode","getDeviceKey","sendCommand","sendRemoteCommand","deviceKeys","track","eventName","properties","JSON","stringify","timeEvent","newEventSession","id","getRevelRoot","getCommandMap","parse","finish","isPreviewMode","NoopClient","getDevice","obj","device","registrationKey","key","deviceType","devicetype","enteredService","Date","enteredservice","langCode","langcode","timeZone","timezone","tags","description","split","location","city","state","country","postalCode","postalcode","address","latitude","longitude","getWidth","getHeight","getDuration","getSdkVersion","Promise","resolve","Client","readyState","addEventListener","handleWindowLoad","factory","providedIn","Injectable","toISOString","isLocal","test","host","enableProdMode","AppInitService","http","_route","_router","loadFonts","isDevMode","gadgets","Prefs","getString","getParameterByName","getArray","getBool","getCountry","getFloat","parseFloat","getInt","parseInt","getLang","search","href","replace","regex","RegExp","results","exec","decodeURIComponent","get","responseType","doc","yaml","load","params","val","prefs","default_value","navigate","relativeTo","queryParams","err","getFamilyName","css","FONT_FAMILY_REGEX","matches","match","parameters","URLSearchParams","forEach","fontFamily","WebFont","google","families","fontactive","familyName","fontinactive","SafeStylePipe","sanitized","transform","value","bypassSecurityTrustStyle","pure","Pipe","NgSafeStylePipeModule","NgModule","declarations","exports","PlayerClientModule","provide","APP_INITIALIZER","useFactory","initializeApp","deps","multi","LOCALE_ID","APP_BASE_HREF","useValue","imports","HttpClientModule","RouterModule","forRoot","providers","appInitService"],"sourceRoot":"webpack:///"}