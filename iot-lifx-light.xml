<?xml version="1.0" encoding="UTF-8" ?> 
<Module> 
<ModulePrefs title="Lifx Light Control" description="" author="RevelDigital" background="transparent">
  <UserPref name="ForeColor" datatype="hidden" />
  <UserPref name="BackColor" datatype="hidden" />
  <UserPref name="rdW" display_name="Width" required="true" default_value="280" datatype="hidden" />
  <UserPref name="rdH" display_name="Height" required="true" default_value="190" datatype="hidden" />
</ModulePrefs>
<Content type="html">
<![CDATA[

<style type="text/css">
body *
{
  line-height: 1.2em; 
  letter-spacing: 0; 
  word-spacing: normal;
}

body
{
  background: transparent;
  width: __UP_rdW__px;
  height: __UP_rdH__px;
  overflow: hidden;
  font-family: 'Droid Sans', sans-serif;
}

.bluebtn {
  background: #3498db;
  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);
  background-image: -moz-linear-gradient(top, #3498db, #2980b9);
  background-image: -ms-linear-gradient(top, #3498db, #2980b9);
  background-image: -o-linear-gradient(top, #3498db, #2980b9);
  background-image: linear-gradient(to bottom, #3498db, #2980b9);
  -webkit-border-radius: 28;
  -moz-border-radius: 28;
  border-radius: 28px;
  font-family: Arial;
  color: #ffffff;
  font-size: 20px;
  padding: 10px 20px 10px 20px;
  text-decoration: none;
}

.bluebtn:hover {
  background: #3cb0fd;
  background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);
  background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);
  background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);
  background-image: -o-linear-gradient(top, #3cb0fd, #3498db);
  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);
  text-decoration: none;
}
  
.redbtn {
  background: #ff0000;
  background-image: -webkit-linear-gradient(top, #ff0000, #b32e2e);
  background-image: -moz-linear-gradient(top, #ff0000, #b32e2e);
  background-image: -ms-linear-gradient(top, #ff0000, #b32e2e);
  background-image: -o-linear-gradient(top, #ff0000, #b32e2e);
  background-image: linear-gradient(to bottom, #ff0000, #b32e2e);
  -webkit-border-radius: 28;
  -moz-border-radius: 28;
  border-radius: 28px;
  font-family: Arial;
  color: #ffffff;
  font-size: 20px;
  padding: 10px 20px 10px 20px;
  text-decoration: none;
}

.redbtn:hover {
  background: #ff0000;
  text-decoration: none;
}

.circle {
  height: 200px;
  width: 200px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 20px;
  background: white;
  box-shadow: 2px 2px 5px #888888;
}

figure {
  display: inline-block;
  width: 200px;
}

figcaption {
  margin-top: 5px;
  text-align: center;
  font-weight: 700;
}

.peaceful {
  background-image: url('http://img11.deviantart.net/6f6d/i/2009/178/d/f/clouds_before_the_storm_by_joe_butler.jpg');
}

.relaxing {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/ed/Sunlight_through_the_leaves_of_a_Catalpa_bignonioides_-_geograph.org.uk_-_1357850.jpg');
}

.energizing {
  background-image: url('http://www.personal.psu.edu/afr3/blogs/siowfa13/BlueOcean.jpg');
}

.soothing {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/c/c5/Various_flowers.jpg');
}

.tranquil {
  background-image: url('https://c1.staticflickr.com/3/2265/2499943626_785052dffd.jpg');
}

.exciting {
  background-image: url('https://c2.staticflickr.com/6/5226/5885470355_3b1bbb5eb4.jpg');
}

.cheerful {
  background-image: url('https://c1.staticflickr.com/1/1/856143_3d16d05f21_z.jpg?zz=1');
}

.focusing {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Beautiful-white-flower_ForestWander.JPG/640px-Beautiful-white-flower_ForestWander.JPG');
}

.blissful {
background-image: url('https://upload.wikimedia.org/wikipedia/commons/5/50/Sunset_at_Cardiff-by-the-sea,_San_Diego.jpg');
}

.powerful {
  background-image: url('http://cache2.asset-cache.net/gc/867206-003-dramatic-orange-sunset-and-clouds-over-gettyimages.jpg?v=1&c=IWSAsset&k=2&d=yqCmo0qJo5Uc%2BG%2FSKa7uqeaYsLs9Z2diQERLkvjrv9A%3D');
}

.warming {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Yellow_leaves_in_autumn.jpg/640px-Yellow_leaves_in_autumn.jpg');
}

.dream {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Northern_Lights,_Greenland.jpg/640px-Northern_Lights,_Greenland.jpg');
}

.serene {
  background-image: url('https://c2.staticflickr.com/4/3227/3019443300_0244f29e28.jpg');
}

.off {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/System-shutdown.svg/200px-System-shutdown.svg.png');
}

.on {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Light_bulb_(yellow)_icon.svg/200px-Light_bulb_(yellow)_icon.svg.png');
}

</style>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<div class="container">
  <figure id="peaceful">
      <div class="circle peaceful"></div>
      <figcaption>Peaceful</figcaption>
  </figure>
  <figure id="relaxing">
      <div class="circle relaxing"></div>
      <figcaption>Relaxing</figcaption>
  </figure>
  <figure id="energizing">
      <div class="circle energizing"></div>
      <figcaption>Energizing</figcaption>
  </figure>
  <figure id="soothing">
      <div class="circle soothing"></div>
      <figcaption>Soothing</figcaption>
  </figure>
  <figure id="tranquil">
      <div class="circle tranquil"></div>
      <figcaption>Tranquil</figcaption>
  </figure>
  <figure id="exciting">
      <div class="circle exciting"></div>
      <figcaption>Exciting</figcaption>
  </figure>
  <figure id="cheerful">
      <div class="circle cheerful"></div>
      <figcaption>Cheerful</figcaption>
  </figure>
  <figure id="focusing">
      <div class="circle focusing"></div>
      <figcaption>Focusing</figcaption>
  </figure>
  <figure id="blissful">
      <div class="circle blissful"></div>
      <figcaption>Blissful</figcaption>
  </figure>
  <figure id="powerful">
      <div class="circle powerful"></div>
      <figcaption>Powerful</figcaption>
  </figure>
  <figure id="warming">
      <div class="circle warming"></div>
      <figcaption>Warming</figcaption>
  </figure>
  <figure id="dream">
      <div class="circle dream"></div>
      <figcaption>Dream</figcaption>
  </figure>
  <figure id="serene">
      <div class="circle serene"></div>
      <figcaption>Serene</figcaption>
  </figure>
  <figure id="off">
      <div class="circle off"></div>
      <figcaption>Off</figcaption>
  </figure>
  <figure id="on">
      <div class="circle on"></div>
      <figcaption>Neutral White</figcaption>
  </figure>
</div>

<script>
   WebFontConfig = {
      google: {
        families: ['Droid Sans']
      }
   };

   (function(d) {
      var wf = d.createElement('script'), s = d.scripts[0];
      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js';
      s.parentNode.insertBefore(wf, s);
   })(document);
</script>

<script type="text/javascript">

  var prefs = new gadgets.Prefs();

  function load() {
  }

  gadgets.util.registerOnLoadHandler(load);
</script>

<script type="text/javascript">
  function makeRequest(url, req) {
    $.ajax({
      url: url,
      method: "PUT",
      contentType:"application/json; charset=utf-8",
      dataType:"json",
      data: JSON.stringify(req),
      beforeSend: function( xhr ) {
        xhr.setRequestHeader("Authorization", "Bearer c3f6eba228a3863bcefb6b4394a756e1f56d4d9e88a5886636b5e74f552452b1");
      }
    }).done(function( data ) {
      if ( console && console.log ) {
        console.log( "Sample of data:", data );
      }
    });
  }
  
  function changeColor(h, b) {
    makeRequest("https://api.lifx.com/v1/lights/all/state", {
      power: "on",
      color: "hue:" + h + " saturation:1.0 brightness:" + b,
      duration: 1
    });
  }
  
  function changeTemp(p, b, k) {
    makeRequest("https://api.lifx.com/v1/lights/all/state", {
      color: "brightness:" + b + " kelvin:" + k,
      power: p,
      duration: 1
    });
  }
  
  function changeScene(scene) {
    makeRequest("https://api.lifx.com/v1/scenes/scene_id:" + scene + "/activate", {});
  }
  
  $(document).ready(function() {
    $("#peaceful").click(function() {
      changeColor("198", "0.05");
    });
  
    $("#relaxing").click(function() {
      changeColor("123", "0.28");
    });
    
    $("#energizing").click(function() {
      changeColor("242", "0.21");
    });
    
    $("#soothing").click(function() {
      changeColor("330", "0.26");
    });
    
    $("#tranquil").click(function() {
      changeColor("43", "0.33");
    });
    
    $("#exciting").click(function() {
      changeColor("239", "0.50");
    });
    
    $("#cheerful").click(function() {
      changeColor("266", "0.41");
    });
    
    $("#focusing").click(function() {
      changeColor("52", "0.76");
    });
    
    $("#blissful").click(function() {
      changeColor("256", "0.24");
    });
    
    $("#powerful").click(function() {
      changeColor("11", "0.41");
    });
    
    $("#warming").click(function() {
      changeColor("42", "0.20");
    });
    
    $("#dream").click(function() {
      changeColor("167", "0.34");
    });
    
    $("#serene").click(function() {
      changeColor("205", "0.16");
    });
    
    $("#off").click(function() {
    changeTemp("off", "1.0", "3500");
    });
    
    $("#on").click(function() {
    changeTemp("on", "1.0", "3500");
    });
  });
</script>
]]>
</Content>
</Module>