<?xml version="1.0" encoding="UTF-8" ?> 
<Module> 
<ModulePrefs title="Flight Status Gadget" description="Flight status gadget" author="RevelDigital" background="transparent">
  <UserPref name="time_delay" display_name="Enter delay in moving the images (seconds)" datatype="string" />
  <UserPref name="api_key" display_name="API Key" datatype="string" />
    <UserPref name="playlist_name" display_name="Playlist name to display images from" datatype="string" />
</ModulePrefs>
<Content type="html">
<![CDATA[

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="https://reveldigital-gadgets.googlecode.com/svn/third-party/jquery.waterwheelCarousel.min.js"></script>
    <script type="text/javascript">



function getMedia() {
    var image = $.getJSON("http://api.reveldigital.com/playlists.json?api_key=OpcmytWN8Nc", function (data) {
      
      for(var i=0; i < data.length; i++) {
        var currentPlaylist = data[i];
        if(currentPlaylist.name.toLowerCase() == 'movie titles 2') {
          for(var j=0; j<currentPlaylist.sources.length; j++) {
            var image = currentPlaylist.sources[j].media.file_url;
            image = image.split(' ').join('%20');
            $("#carousel").append('<img src="' + image + '"/>');
            console.log('<img src="' + image + '"/>');
          }
        }
      }
      var carousel = $("#carousel").waterwheelCarousel({
      flankingItems: 3,
      autoPlay: prefs.getInt('time_delay')*1000,
      forcedImageHeight: $(window).height()
    });

        $("#carousel").width($(window).width());
        $("#carousel").height($(window).height());
    });
}



      $(document).ready(function () {
        var prefs = new gadgets.Prefs();
        console.log("version: " + 21);
        getMedia();
      });
    </script>

    <style type="text/css">
      body {
        font-family:Arial;
        font-size:12px;
        background:transparent;
      }


      #carousel {
        width:960px;
        height:349px;
        position:relative;
        clear:both;
        overflow:hidden;
        background:transparent;
      }
      #carousel img {
        visibility:hidden; 
        cursor:pointer; 
        width: 200px;
        height: 349px;
        -webkit-box-reflect:below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.80, transparent), to(rgba(255,255,255,.50)));
      }

      .split-left {
        width:450px;
        float:left;
      }
      .split-right {
        width:400px;
        float:left;
        margin-left:10px;
      }


    </style>
  </head>
  <body>
    <div id="carousel">
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/1.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/2.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/3.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/4.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/5.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/6.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/7.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/8.jpg"/>
      <img src="https://reveldigital-gadgets.googlecode.com/svn/branches/sam/images/9.jpg"/>
    </div>
  </body>
</html>


]]>
</Content>
</Module>